<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recherche de Salles - Room Reservation</title>
    <link rel="stylesheet" href="styles/recherche.css">
    <link rel="stylesheet" href="styles/common.css">
</head>
<body>
    <div class="recherche-container">
        <!-- Header -->
        <header class="recherche-header">
            <a href="index.html" class="back-button">← Retour</a>
            <h1>Room Reservation</h1>
        </header>

        <!-- Barre de recherche -->
        <section class="search-section">
            <div class="search-bar">
                <div class="search-input-group">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Nom ou adresse de la salle..."
                        class="search-input"
                    >
                    <button class="search-button">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" 
                                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Filtres et tri -->
            <div class="filters-section">
                <div class="sort-group">
                    <label for="sortSelect">Trier par</label>
                    <select id="sortSelect" class="sort-select">
                        <option value="nom">Nom</option>
                        <option value="prix-croissant">Prix croissant</option>
                        <option value="prix-decroissant">Prix décroissant</option>
                        <option value="capacite">Capacité</option>
                        <option value="note">Note</option>
                    </select>
                </div>

                <div class="filters-group">
                    <button class="filter-button" id="filterButton">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                            <path d="M22 3H2L10 12.46V19L14 21V12.46L22 3Z" 
                                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Filtres
                    </button>
                </div>
            </div>
        </section>

        <!-- Filtres avancés (cachés par défaut) -->
        <section class="advanced-filters" id="advancedFilters" style="display: none;">
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Prix (USD)</label>
                    <div class="price-range">
                        <input type="number" id="minPrice" placeholder="Min" class="price-input">
                        <span>-</span>
                        <input type="number" id="maxPrice" placeholder="Max" class="price-input">
                    </div>
                </div>

                <div class="filter-group">
                    <label>Capacité</label>
                    <input type="number" id="minCapacity" placeholder="Min" class="capacity-input">
                </div>

                <div class="filter-group">
                    <label>Services</label>
                    <div class="services-filters">
                        <label class="service-filter">
                            <input type="checkbox" name="services" value="climatisation">
                            <span class="checkmark"></span>
                            Climatisation
                        </label>
                        <label class="service-filter">
                            <input type="checkbox" name="services" value="wifi">
                            <span class="checkmark"></span>
                            WIFI
                        </label>
                        <label class="service-filter">
                            <input type="checkbox" name="services" value="parking">
                            <span class="checkmark"></span>
                            Parking
                        </label>
                    </div>
                </div>

                <div class="filter-actions">
                    <button class="btn btn-secondary" id="resetFilters">Réinitialiser</button>
                    <button class="btn btn-primary" id="applyFilters">Appliquer</button>
                </div>
            </div>
        </section>

        <!-- Résultats -->
        <section class="results-section">
            <div class="results-header">
                <h2 id="resultsCount">0 salles trouvées</h2>
                <div class="view-options">
                    <button type="button" class="view-btn active" data-view="grid" aria-label="Vue en grille">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                            <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <button type="button" class="view-btn" data-view="list" aria-label="Vue en liste">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <line x1="3" y1="6" x2="21" y2="6" stroke="currentColor" stroke-width="2"/>
                            <line x1="3" y1="12" x2="21" y2="12" stroke="currentColor" stroke-width="2"/>
                            <line x1="3" y1="18" x2="21" y2="18" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Liste des salles -->
            <div class="salles-container" id="sallesContainer">
                <!-- Les salles seront chargées ici dynamiquement -->
                <div class="loading-state" id="loadingState">
                    <div class="spinner"></div>
                    <p>Chargement des salles...</p>
                </div>
            </div>

            <!-- État vide -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
                    <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" 
                          stroke="currentColor" stroke-width="2"/>
                    <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2"/>
                </svg>
                <h3>Aucune salle trouvée</h3>
                <p>Aucune salle ne correspond à vos critères de recherche.</p>
            </div>
        </section>
    </div>

    <script src="js/recherche/main.js" type="module"></script>
</body>
</html>